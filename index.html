<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Vijay Generator — Booking Portal</title>
  <style>
    :root {
      --accent:#0d6efd;
      --bg:#f8fafc;
      --card:#ffffff;
      --muted:#6b7280;
      --border:#e0e4eb;
    }
    * { box-sizing:border-box; }
    body {
      font-family:'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;
      margin:0;
      background:var(--bg);
      color:#1e293b;
    }
    header {
      background:linear-gradient(135deg,var(--accent),#00b4d8);
      color:#fff;
      padding:20px 0;
      text-align:center;
      box-shadow:0 3px 10px rgba(0,0,0,0.2);
    }
    header h1 { margin:0; font-size:28px; }
    header p { margin:6px 0 0; font-size:14px; opacity:0.9; }

    .container { max-width:1000px; margin:40px auto; padding:24px; }
    .grid { display:grid; grid-template-columns:1fr 360px; gap:24px; }
    .card {
      background:var(--card);
      border-radius:12px;
      padding:22px;
      box-shadow:0 4px 16px rgba(0,0,0,0.05);
      border:1px solid var(--border);
    }

    label { font-size:14px; color:var(--muted); display:block; margin-bottom:6px; }
    input, select, textarea {
      width:100%;
      padding:10px 12px;
      border-radius:8px;
      border:1px solid var(--border);
      background:#fff;
      font-size:15px;
    }
    textarea { min-height:80px; resize:vertical; }

    .row { display:flex; gap:12px; margin-bottom:14px; flex-wrap:wrap; }
    button.primary {
      background:var(--accent);
      color:#fff;
      padding:10px 16px;
      border-radius:8px;
      border:none;
      font-weight:500;
      cursor:pointer;
      transition:background 0.3s;
    }
    button.primary:hover { background:#0b5ed7; }
    .small { font-size:13px; color:var(--muted); }

    .success, .error {
      padding:10px;
      border-radius:8px;
      margin-bottom:12px;
      font-size:14px;
      display:none;
    }
    .success { background:#ecfdf5; color:#065f46; }
    .error { background:#fee2e2; color:#991b1b; }

    footer {
      text-align:center;
      margin-top:40px;
      padding:12px;
      color:var(--muted);
      font-size:13px;
    }

    @media(max-width:880px) {
      .grid { grid-template-columns:1fr; }
      .container { padding:16px; }
    }
  </style>
</head>
<body>

  <header>
    <h1>Vijay Generator</h1>
    <p>Reliable Power Solutions — Book Your Genset Instantly</p>
  </header>

  <div class="container">
    <main class="grid">
      <section class="card">
        <h2 style="margin-top:0">Book a Generator</h2>
        <p class="small">Select your model, date, time, and enter your details to book.</p>

        <div id="successMsg" class="success"></div>
        <div id="errorMsg" class="error"></div>

        <form id="bookingForm" autocomplete="off">
          <div class="row">
            <div style="flex:1">
              <label for="model">Genset Model</label>
              <select id="model" required>
                <option value="">-- Select model --</option>
                <option value="5 kW">5 kW</option>
                <option value="7.5 kW">7.5 kW</option>
                <option value="20 kW">20 kW</option>
                <option value="30 kW">30 kW</option>
                <option value="40 kW">40 kW</option>
              </select>
            </div>
            <div style="width:150px">
              <label for="date">Date</label>
              <input id="date" type="date" required />
            </div>
            <div style="width:130px">
              <label for="time">Time</label>
              <input id="time" type="time" required />
            </div>
          </div>

          <div class="row">
            <div style="flex:1">
              <label for="name">Full Name</label>
              <input id="name" type="text" placeholder="Your name" required />
            </div>
            <div style="width:200px">
              <label for="phone">Phone</label>
              <input id="phone" type="text" placeholder="9876543210" required />
            </div>
          </div>

          <div class="row">
            <div style="flex:1">
              <label for="email">Email</label>
              <input id="email" type="email" placeholder="you@example.com" />
            </div>
            <div style="flex:1">
              <label for="location">Location</label>
              <input id="location" type="text" placeholder="City or site address" required />
            </div>
          </div>

          <div class="row">
            <div style="width:120px">
              <label for="qty">Quantity</label>
              <select id="qty">
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
              </select>
            </div>
            <div style="flex:1">
              <label for="msgInput">Message (optional)</label>
              <textarea id="msgInput" placeholder="Special requirements or notes..."></textarea>
            </div>
          </div>

          <button type="submit" class="primary">Submit Booking</button>
        </form>
      </section>

      <aside class="card">
        <h3 style="margin-top:0">About Vijay Generator</h3>
        <p>Providing reliable genset solutions for homes, businesses, and industries since 2010.</p>
        <ul>
          <li>High-efficiency models</li>
          <li>24/7 customer support</li>
          <li>Quick delivery and setup</li>
          <li>Professional service engineers</li>
        </ul>
      </aside>
    </main>
  </div>

  <footer>
    © 2025 Vijay Generator — Reliable Power Solutions
  </footer>

  <script>
    const form = document.getElementById("bookingForm");
    const successMsg = document.getElementById("successMsg");
    const errorMsg = document.getElementById("errorMsg");

    form.addEventListener("submit", async (e) => {
      e.preventDefault();
      successMsg.style.display = "none";
      errorMsg.style.display = "none";

      const data = {
        model: document.getElementById("model").value,
        date: document.getElementById("date").value,
        time: document.getElementById("time").value,
        name: document.getElementById("name").value,
        phone: document.getElementById("phone").value,
        email: document.getElementById("email").value,
        location: document.getElementById("location").value,
        qty: document.getElementById("qty").value,
        message: document.getElementById("msgInput").value
      };

      try {
        const res = await fetch("https://vijay-generator-server.onrender.com/book", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(data)
        });

        const result = await res.json();

        if (res.ok) {
          successMsg.textContent = "✅ Booking submitted successfully!";
          successMsg.style.display = "block";
          form.reset();
        } else {
          errorMsg.textContent = result.error || "Failed to submit booking.";
          errorMsg.style.display = "block";
        }
      } catch (err) {
        errorMsg.textContent = "Server error. Please try again later.";
        errorMsg.style.display = "block";
      }
    });
  </script>

</body>
</html>
